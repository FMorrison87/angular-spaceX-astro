@if (starlinks$ | async; as starlinks) {
<p-table
  [columns]="starlinkCols"
  [value]="starlinks"
  dataKey="id"
  [tableStyle]="{ 'min-width': '50rem' }"
  [paginator]="true"
  [rows]="10"
  [rowsPerPageOptions]="[10, 20, 50]"
>
  <ng-template pTemplate="header" let-columns>
    <tr>
      <th></th>
      @for (col of columns; track col) {
      <th>
        {{ col.header }}
      </th>
      }
    </tr>
  </ng-template>
  <ng-template
    pTemplate="body"
    let-rowData
    let-columns="columns"
    let-expanded="expanded"
  >
    <tr>
      <td>
        <p-button
          type="button"
          pRipple
          [pRowToggler]="rowData"
          [text]="true"
          [rounded]="true"
          [plain]="true"
          [icon]="expanded ? 'pi pi-chevron-down' : 'pi pi-chevron-right'"
        />
      </td>
      @for (col of columns; track col) {
      <td>
        @if (col.field === 'spaceTrack') { See expansion for info } @else {
        {{ rowData[col.field] }}
        }
      </td>
      }
    </tr>
  </ng-template>
  <ng-template pTemplate="rowexpansion" let-rowData>
    <tr>
      <td colspan="9">
        <strong>SPACETRACK</strong>
      </td>
    </tr>
    <tr>
      <td colspan="9">
        <div class="m-2">
          @for(col of spaceTrackCols; track col) {
          <div>
            <span
              ><strong>{{ col.header }}:</strong> </span
            ><span>{{ rowData.spaceTrack[col.field] }}</span>
          </div>
          }
        </div>
      </td>
    </tr>
  </ng-template>
</p-table>
}
